コールバック関数。それぞれの処理で渡される引数は以下の通りです:
